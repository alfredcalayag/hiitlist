var Instruction=function(){this.display=$("#instruction"),this.display.html("Loading..."),this.nextDisplay=$("#next-exercise")};Instruction.prototype={updateDisplay:function(t){this.display.html(t)},updateNextDisplay:function(t){this.nextDisplay.html(t)}};var Playlist=function(){this.collection=[],this.trackList=[],this.index=0};Playlist.prototype={load:function(){this.collection=$(".exercise"),this.trackList.push("Get Ready...");for(var t=0;t<this.collection.length;t++)this.trackList.push(this.collection[t].textContent),t<this.collection.length-1&&this.trackList.push("Rest")}};var Workout=function(t,i){this.screen=$(".workout-screen"),this.restColor="#62600C",this.workColor="slategrey",this.highTime=t,this.lowTime=i,this.loadingTime=5,this.roundTime=this.loadingTime,this.duration=this.roundTime,this.instruction=new Instruction};Workout.prototype={fullScreen:function(){this.screen.addClass("full-screen")},hideScreen:function(){this.screen.removeClass("full-screen")},changeScreenColor:function(t){this.screen.css("background",t)}};var Timer=function(t,i){this.display=$("#timer"),this.countdownInterval,this.minutes,this.remainingSeconds,this.playlist=i,this.workout=t};Timer.prototype={reset:function(){this.display.html("00:00")},updateSeconds:function(){this.remainingSeconds=this.workout.duration%60,this.remainingSeconds<10&&(this.remainingSeconds="0"+this.remainingSeconds),this.minutes=Math.round((this.workout.duration-30)/60),this.remainingSeconds=this.workout.duration%60,this.remainingSeconds<10&&(this.remainingSeconds="0"+this.remainingSeconds)},updateDisplay:function(){this.display.html("0"+this.minutes+":"+this.remainingSeconds),this.workout.duration==this.workout.roundTime&&this.playlist.index<this.playlist.trackList.length&&(this.workout.instruction.updateDisplay(this.playlist.trackList[this.playlist.index]),this.playlist.index<this.playlist.trackList.length&&this.playlist.index%2==0?(this.workout.changeScreenColor(this.workout.restColor),this.workout.instruction.updateNextDisplay("(Next Exercise: "+this.playlist.trackList[this.playlist.index+1]+")")):(this.workout.changeScreenColor(this.workout.workColor),this.workout.instruction.updateNextDisplay(" ")))},nextExercise:function(){return this.playlist.index++,this.playlist.index%2==0?(this.workout.roundTime=this.workout.lowTime-1,this.workout.duration=this.workout.lowTime-1):(this.workout.roundTime=this.workout.highTime-1,this.workout.duration=this.workout.highTime-1),this.playlist.index>this.playlist.trackList.length-1?(clearInterval(this.countdownInterval),this.workout.instruction.updateDisplay("Workout Complete!"),gong.play(),console.log("Workout Complete!"),$("#start").addClass(".appear"),void $("#complete-btn").css("display","block")):void 0},oneSecond:function(){console.log("one second passes"),this.updateSeconds(),this.updateDisplay(),this.workout.duration--,this.workout.duration<0&&(this.playlist.index<this.playlist.trackList.length-1&&bellSound.play(),this.nextExercise())},start:function(){console.log(this.playlist),this.workout.fullScreen(),this.countdownInterval=setInterval(this.oneSecond.bind(this),1e3),console.log("starting the clock")}},$(document).ready(function(){console.log("OO Time"),$("#start").click(function(t){t.preventDefault();var i=new Playlist;i.load();var s=5,o=2,e=new Workout(s,o),n=new Timer(e,i);n.reset(),n.start()}),$("#complete-btn").click(function(t){t.preventDefault(),$(".playlist").css("display","block"),$(".workout-screen").removeClass("full-screen"),$("#instruction").text("Loading..."),$("#timer").textContent="00:00",$(this).css("display","none")}),$("#pause").click(function(t){t.preventDefault(),console.log("pause")}),$("#resume").click(function(t){t.preventDefault(),console.log("resume")})});